<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lev Goldman">

<title>COGS 219 EEG Experiment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="EEG-Experiment_files/libs/clipboard/clipboard.min.js"></script>
<script src="EEG-Experiment_files/libs/quarto-html/quarto.js"></script>
<script src="EEG-Experiment_files/libs/quarto-html/popper.min.js"></script>
<script src="EEG-Experiment_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="EEG-Experiment_files/libs/quarto-html/anchor.min.js"></script>
<link href="EEG-Experiment_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="EEG-Experiment_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="EEG-Experiment_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="EEG-Experiment_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="EEG-Experiment_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">COGS 219 EEG Experiment</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Lev Goldman </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<blockquote class="blockquote">
<p>As a note, I’ll be writing this in a less formal style, because the people I’m submitting this to have read Mastroianni &amp; Ludwin-Peery (2022) and understand that it <em>is</em> better. Even though it is often significantly more work.</p>
</blockquote>
<p>“Curiosity”, as a big general term that we throw around a lot, but it’s usually not well defined or understood. (ADD SOME STUFF) One way of thinking about curiosity is wanting to learn information, even when that information doesn’t actually provide any tangible benefit. You might have already made a decision about what refrigerator you are buying and will be stuck with it for the next 10 years, but continue to look up reviews about it while you’re waiting for it to arrive.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The information in those reviews is called <em>non-instrumental information</em>, because you aren’t going to use it to make any decisions —- it’s just information for the sake of information. One of the ways that people explain human curiosity is that we process rewards the same way we process information, and so even if that information is not helpful to us we value it like a reward. This is called the <em>common currency hypothesis</em>. In our study, we tried to set up a situation to test this using a deck of cards (more on that in the Methods section). Some researchers think that looking at electrical activity in specific parts of the brain will help us find answers to large questions about even larger topics (e.g.&nbsp;“curiosity”), although not everyone agrees on this point.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> But on the assumption that it will, a study called <em>The Neural Encoding of Prediction Errors</em> suggested that looking at the electrical activity (EEG waves) in the center front part of the brain right around the time that someone got a little bit of information could help figure out if the common currency hypothesis is correct (Brydevall et al., 2018). Researchers could compare these <em>event-related potentials</em> (ERPs) between times when you were shown information about the likelihood of a reward and times when you were shown non-instrumental information, and if the waveforms looked the same then it would suggest that the two things were being processed similarly.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> The problem is, a lot of scientific studies do not work when you try them again, even when you try to match the ways that they were done the first time as closely as possible (a process called replication). This is a huge issue for science, which spends most of its time trying to find deep fundamental truths about the universe and the rest of its time trying to get money.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> If what you say you found can’t be found again, have you really found an actual effect? Since scientific papers are using inferential statistics to publish probabilities of having found an effect (even if they pretend that’s not what’s going on) the project of science requires replication to get lower the chance that what happened in that one study was a fluke. So we have chosen to run a replication of Brydevall et al.&nbsp;(2018) to see if it holds up. Here’s how we’ve set it up:</p>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="participants" class="level3">
<h3 class="anchored" data-anchor-id="participants">Participants</h3>
<p>We recruited other college students who we can coerce into doing this with a small cash payment or gift card — so a lot of people currently taking cognitive science classes or friends of people currently taking cognitive science classes. We kept the experiment going until we had 40 completed runs, a number we settled on because we needed 38 subjects for the level of statistical power we’re hoping to achieve, so having 40 allows us to lose 2 if they don’t meet our exclusion criteria (failing more than 2 attention check trials) and still have enough. We put an eeg cap on participants’ heads (our specific model is the CGX Quick-20r v2, and subjects had to have head circumferences of less than 62cm to fit into it) and then had them sit in front of a monitor running our experiment (programmed in jsPsych) and respond to prompts with the arrow keys on their keyboard.</p>
<p>39 subjects completed the experiment.</p>
<p>37 passed all attention checks.</p>
<p>2 subjects failed one attention check.</p>
<p>The mean reaction time for attention check trials was 650.5544041 .</p>
<p>The standard deviation was 147.7521446 .</p>
</section>
<section id="procedures-materials" class="level3">
<h3 class="anchored" data-anchor-id="procedures-materials">Procedures &amp; Materials</h3>
<p>Subjects were given visual and verbal instructions and few practice rounds to be completed with the experimenter present in the room to answer any questions. The actual testing phase had 5 rounds, each with 16 actual trials and 1 attention check trial. For each trial, the participant would be asked to choose between Red and Black, and then would see 5 cards flip over one-by-one (see FIGURE SOMETHING). They were asked to not blink during this time and keep their eyes focussed on the fixation cross in the center of the cards, which proved difficult for some subjects. The trials were rigged so the sequence of wins and losses was random for each participant but predetermined, so that no matter what the participant chose they would end up with an exactly equal number of wins and losses throughout the experiment.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> The central idea of the card flips was that each card that was being flipped over would give the subject some more information about how the final distribution of the hand would end up, and what the likelihood of them winning was (based on their choice). However, not all card flips give the same amount of information —- if you have chosen Red and have already been dealt one red card, getting another one significantly increases your odds of winning, and also cuts down the number of possible ways the hand could turn out (making you more certain of the outcome). Alternatively, if you were given a Black card, you now are back to a 50/50 chance of winning and there are more ways the hand could end than with the Red card. The premise is that we take the average of the two possible outcomes and call that the amount of information or reward expected by the subject, and then when the card is actually turned over and a different amount of information or reward probability is discovered we can subtract to find the “error” in the subject’s prediction.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> This is Feedback-Related Negativity. I THINK? (I’m writing FAST here). The discovery of that error (which can be positive or negative) is what we’re looking at with our EEG ERPs (those Event Related Potential waves), during a period of 200-350ms after the card gets flipped over (the FRN period).</p>
<p>All of this was preregistered ahead of time HERE(insert link). And if you want to see our experimental materials, they’re HERE(another link).</p>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<section id="behavioral" class="level3">
<h3 class="anchored" data-anchor-id="behavioral">Behavioral</h3>
</section>
<section id="eeg" class="level3">
<h3 class="anchored" data-anchor-id="eeg">EEG</h3>
<p>0 had more than 20 bad segments. (NOTE: REVISIT THIS ONCE YOU RUN WITH ALL EEG DATA (NOT JUST 10%))</p>
<p>The mean number of good segments was 1090.2647172 with a standard deviation of <code>r</code>SD.subj.goodsegs`.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>gAVG.RPEs <span class="ot">&lt;-</span> merged.data <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RPE_type <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(t, RPE_type) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">v =</span> <span class="fu">mean</span>(v)) <span class="sc">%&gt;%</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">std_err =</span> <span class="fu">std.error</span>(v))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 't'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>gAVG.RPEs <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RPE_type <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> v)) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> v<span class="sc">-</span>std_err, <span class="at">ymax =</span> v<span class="sc">+</span>std_err), <span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grand Average Waveform for Positive RPE"</span>) <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EEG-Experiment_files/figure-html/Calculating%20+/-%20RPE/IPE%20Grand%20Average%20Waveforms-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>gAVG.RPEs <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RPE_type <span class="sc">==</span> <span class="st">"negative"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> v)) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> v<span class="sc">-</span>std_err, <span class="at">ymax =</span> v<span class="sc">+</span>std_err), <span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grand Average Waveform for Negative RPE"</span>) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EEG-Experiment_files/figure-html/Calculating%20+/-%20RPE/IPE%20Grand%20Average%20Waveforms-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>gAVG.IPEs <span class="ot">&lt;-</span> merged.data <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(IPE_type <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(t, IPE_type) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">v =</span> <span class="fu">mean</span>(v)) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">std_err =</span> <span class="fu">std.error</span>(v))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 't'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>gAVG.IPEs <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(IPE_type <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> v)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> v<span class="sc">-</span>std_err, <span class="at">ymax =</span> v<span class="sc">+</span>std_err), <span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grand Average Waveform for Positive IPE"</span>) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EEG-Experiment_files/figure-html/Calculating%20+/-%20RPE/IPE%20Grand%20Average%20Waveforms-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>gAVG.IPEs <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(IPE_type <span class="sc">==</span> <span class="st">"negative"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> v)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> v<span class="sc">-</span>std_err, <span class="at">ymax =</span> v<span class="sc">+</span>std_err), <span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grand Average Waveform for Negative IPE"</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EEG-Experiment_files/figure-html/Calculating%20+/-%20RPE/IPE%20Grand%20Average%20Waveforms-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: FRN Window is 200-350ms according to preregistration (and original study).</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>FRN.avgs <span class="ot">&lt;-</span> merged.data <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(t <span class="sc">&gt;=</span> <span class="dv">200</span> <span class="sc">&amp;</span> t <span class="sc">&lt;=</span> <span class="dv">350</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(subject, t, electrode, RPE_type, IPE_type) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_v =</span> <span class="fu">mean</span>(v), <span class="at">.groups =</span> <span class="st">"keep"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>(t) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">amp =</span> <span class="fu">max</span>(avg_v) <span class="sc">-</span> <span class="fu">min</span>(avg_v))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'subject', 'electrode', 'RPE_type'. You can
override using the `.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># not positive that I'm doing this averaging correctly...</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># just a graph for my own amusement!</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>merged.data <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(t, electrode, RPE_type, IPE_type) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_v =</span> <span class="fu">mean</span>(v), <span class="at">.groups =</span> <span class="st">"keep"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> avg_v, <span class="at">color =</span> electrode, <span class="at">alpha =</span> <span class="fl">0.001</span>)) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">shape =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"grey40"</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Just a Fun Graph for Lev's Amusement"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EEG-Experiment_files/figure-html/Calculating%20avg.%20amplitude%20per%20subject%20per%20electrode%20during%20FRN%20Window.-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>merged.data <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(t, electrode, RPE_type, IPE_type) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_v =</span> <span class="fu">mean</span>(v), <span class="at">.groups =</span> <span class="st">"keep"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> avg_v, <span class="at">color =</span> electrode, <span class="at">alpha =</span> <span class="fl">0.001</span>)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">shape =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"grey40"</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(IPE_type <span class="sc">~</span> RPE_type) <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Just a Fun Graph for Faceting's Amusement"</span>, <span class="st">"RPE types along top, IPE types down side"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="EEG-Experiment_files/figure-html/Calculating%20avg.%20amplitude%20per%20subject%20per%20electrode%20during%20FRN%20Window.-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>aov.data <span class="ot">&lt;-</span> FRN.avgs <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(IPE_type <span class="sc">!=</span> <span class="st">"none"</span> <span class="sc">&amp;</span> RPE_type <span class="sc">!=</span> <span class="st">"none"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(electrode <span class="sc">==</span> <span class="st">"Fz"</span> <span class="sc">|</span> electrode <span class="sc">==</span> <span class="st">"Cz"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">aov</span>(amp <span class="sc">~</span> electrode <span class="sc">*</span> IPE_type <span class="sc">+</span> <span class="fu">Error</span>(subject <span class="sc">/</span> electrode <span class="sc">*</span> IPE_type), aov.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
aov(formula = amp ~ electrode * IPE_type + Error(subject/electrode * 
    IPE_type), data = aov.data)

Grand Mean: 7.179713

Stratum 1: subject

Terms:
                Residuals
Sum of Squares   85.38321
Deg. of Freedom         3

Residual standard error: 5.334892

Stratum 2: IPE_type

Terms:
                IPE_type
Sum of Squares  10.46106
Deg. of Freedom        1

1 out of 2 effects not estimable
Estimated effects are balanced

Stratum 3: subject:electrode

Terms:
                electrode Residuals
Sum of Squares   3.310503  3.611413
Deg. of Freedom         1         3

Residual standard error: 1.09718
1 out of 2 effects not estimable
Estimated effects are balanced

Stratum 4: subject:IPE_type

Terms:
                Residuals
Sum of Squares   5.540434
Deg. of Freedom         3

Residual standard error: 1.358974

Stratum 5: subject:electrode:IPE_type

Terms:
                electrode:IPE_type Residuals
Sum of Squares            2.258905  2.832993
Deg. of Freedom                  1         3

Residual standard error: 0.971767
Estimated effects are balanced

Stratum 6: Within

Terms:
                Residuals
Sum of Squares   137.3843
Deg. of Freedom        16

Residual standard error: 2.930276</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aov</span>(amp <span class="sc">~</span> electrode <span class="sc">*</span> RPE_type <span class="sc">+</span> <span class="fu">Error</span>(subject <span class="sc">/</span> electrode <span class="sc">*</span> RPE_type), aov.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
aov(formula = amp ~ electrode * RPE_type + Error(subject/electrode * 
    RPE_type), data = aov.data)

Grand Mean: 7.179713

Stratum 1: subject

Terms:
                Residuals
Sum of Squares   85.38321
Deg. of Freedom         3

Residual standard error: 5.334892

Stratum 2: RPE_type

Terms:
                 RPE_type
Sum of Squares  0.7881032
Deg. of Freedom         1

1 out of 2 effects not estimable
Estimated effects are balanced

Stratum 3: subject:electrode

Terms:
                electrode Residuals
Sum of Squares   3.310503  3.611413
Deg. of Freedom         1         3

Residual standard error: 1.09718
1 out of 2 effects not estimable
Estimated effects are balanced

Stratum 4: subject:RPE_type

Terms:
                Residuals
Sum of Squares   42.02016
Deg. of Freedom         3

Residual standard error: 3.742555

Stratum 5: subject:electrode:RPE_type

Terms:
                electrode:RPE_type Residuals
Sum of Squares            3.284014  3.623798
Deg. of Freedom                  1         3

Residual standard error: 1.09906
Estimated effects are balanced

Stratum 6: Within

Terms:
                Residuals
Sum of Squares   108.7616
Deg. of Freedom        16

Residual standard error: 2.607221</code></pre>
</div>
</div>
</section>
</section>
<section id="bibliography" class="level2">
<h2 class="anchored" data-anchor-id="bibliography">Bibliography</h2>
<p>de Leeuw, J. R. (2015). jsPsych: A JavaScript library for creating behavioral experiments in a web browser. Behavior Research Methods, 47(1), 1-12. doi:10.3758/s13428-014-0458-y.</p>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>This may seem like a weird example. It was chosen because it is similar to the way that the card flips in our experiment work – you’ve already bought the refrigerator, so there’s no actual value to this information. You might argue that it helps you make plans about what you’re going to do with the refrigerator, but I would argue that you can make the same case for the card flips that we’re doing.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>But everyone <em>is</em> required to take a quantitative research methods course where you do that.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>I feel obligated to interject here (with no sources, so perhaps I am completely wrong) that the packing and connections of neurons is so incredibly dense that we really can’t say what “circuitry” is involved here, just that there’s some similar big patterns of electrical activity going on in the same approximate region of the brain. Anyway.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Citation not needed.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>The biggest reason for this was because we had a bunch of gift cards with exact amounts of money on it, and needed to be able to tell subjects that they’d keep their 8 dollars in winnings, so it had to be exactly 8 dollars.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Frankly I’m still skeptical that as we go through life we’re doing the cold hard error calculations like this… I know I frequently have expectations that are all over the place and wildly irrational.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>